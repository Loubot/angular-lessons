

  <div layout="row" class="height_100 ">
    <div flex="30" layout-padding ng-show="USER" class="fancy">

      <md-content class="md-padding">
        <input placeholder="Search for student" class="margin_b_10">
        <div  ng-repeat="conversation in conversations" 
              ng-click="select_conversation( conversation.student_email )" 
              class="margin_t_10"
              flex="100">
          <div class="message_box">{{ conversation.student_name }}</div>
          <md-divider></md-divider>
        </div> <!-- end of conversations -->
      </md-content>

    </div> <!-- end of flex=30 -->

    <div flex="70" class="height_100" style="overflow-y:hidden;">

      <md-content class="height_75 padding_5 message_container">
        <div layout="column" layout-fill flex>
          <div        ng-class="{ 'flex-50 flex-offset-50': message.sender_email==USER.email, 'flex-50': message.sender_email!=USER.email }"
                      ng-repeat="message in conversation.messages">
            <div ng-class="{ 'sender': message.sender_email==USER.email, 'receiver': message.sender_email!=USER.email }">
              <span ng-if="message.sender_email==USER.email">{{ conversation.teacher_name }}: </span>
              <span ng-if="message.sender_email!=USER.email">{{ conversation.student_name }}: </span>
              {{ message.message }}
            </div> <!-- end of sender/receiver -->


          </div> <!-- end of ng-repeat messages -->  
          
        </div> <!-- end of column -->

        
      </md-content>
      
      <div class="message_response_container height_25">
        <form name="message_form" ng-submit="send_message()" class="message_form">
            
              <textarea ng-model="message.message" 
                        aria-label="Experience description" 
                        class="message_text_area"
                        rows="3"
                        wrap="off"
                        placeholder="Enter your message here">
              </textarea>
            
            <md-input-container>
              <input type="submit" value="Submit message" class="md-button md-primary md-raised white_text" aria-label="Submit messages">
            </md-input-container>
        </form> <!-- end of send_message -->
      </div> <!-- end of message_response_container -->
    
    </div> <!-- end of flex=70 -->
  </div> <!-- end of row -->

